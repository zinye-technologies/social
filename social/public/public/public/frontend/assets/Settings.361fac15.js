var V=Object.defineProperty;var I=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var U=(i,s,l)=>s in i?V(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l,C=(i,s)=>{for(var l in s||(s={}))D.call(s,l)&&U(i,l,s[l]);if(I)for(var l of I(s))E.call(s,l)&&U(i,l,s[l]);return i};var f=(i,s,l)=>new Promise((w,t)=>{var d=a=>{try{g(l.next(a))}catch(u){t(u)}},k=a=>{try{g(l.throw(a))}catch(u){t(u)}},g=a=>a.done?w(a.value):Promise.resolve(a.value).then(d,k);g((l=l.apply(i,s)).next())});import{_ as P,ak as A,M as S,j as m,m as r,w as c,k as e,n as x,o as b,u as y,t as h,W as o,a1 as p,a0 as _,N as v,Y as T,X as L,al as M}from"./vendor.56598cc7.js";const z={name:"Settings",data(){return{settings:{linkedin_enabled:!1,linkedin_client_id:"",linkedin_client_secret:"",linkedin_callback_url:"",linkedin_last_tested:null,default_visibility:"PUBLIC",auto_schedule_optimization:!1,max_posts_per_day:10,retry_failed_posts:!0,max_retry_attempts:3,retry_delay_minutes:30,analytics_enabled:!0,analytics_sync_frequency:"Every 6 hours",analytics_retention_days:90,last_analytics_sync:null,analytics_api_quota_used:0,debug_mode:!1,api_rate_limit:100},saving:!1,testingConnection:!1}},components:{ClipboardIcon:A},resources:{socialSettings(){return S({url:"social.doctype.social_settings.social_settings.get_social_settings",auto:!0,onSuccess:i=>{this.settings=C(C({},this.settings),i)}})}},methods:{saveSettings(){return f(this,null,function*(){this.saving=!0;try{yield S({url:"frappe.client.set_value"}).submit({doctype:"Social Settings",name:"Social Settings",fieldname:this.settings}),frappe.toast({title:"Settings Saved",message:"Your settings have been saved successfully",indicator:"green"}),this.$resources.socialSettings.fetch()}catch(i){console.error("Error saving settings:",i),frappe.toast({title:"Save Failed",message:"Failed to save settings. Please try again.",indicator:"red"})}finally{this.saving=!1}})},loadSettings(){this.$resources.socialSettings.fetch()},resetSettings(){confirm("Are you sure you want to reset all settings to defaults?")&&(this.settings={linkedin_enabled:!1,linkedin_client_id:"",linkedin_client_secret:"",linkedin_callback_url:"",linkedin_last_tested:null,default_visibility:"PUBLIC",auto_schedule_optimization:!1,max_posts_per_day:10,retry_failed_posts:!0,max_retry_attempts:3,retry_delay_minutes:30,analytics_enabled:!0,analytics_sync_frequency:"Every 6 hours",analytics_retention_days:90,last_analytics_sync:null,analytics_api_quota_used:0,debug_mode:!1,api_rate_limit:100})},testLinkedInConnection(){return f(this,null,function*(){this.testingConnection=!0;try{const i=yield S({url:"social.doctype.social_settings.social_settings.test_linkedin_connection",params:{name:"Social Settings"}}).fetch();i.success?(frappe.toast({title:"Connection Successful",message:"LinkedIn API connection is working properly",indicator:"green"}),this.$resources.socialSettings.fetch()):frappe.toast({title:"Connection Failed",message:i.message,indicator:"red"})}catch(i){console.error("Error testing connection:",i),frappe.toast({title:"Test Failed",message:"Unable to test LinkedIn connection",indicator:"red"})}finally{this.testingConnection=!1}})},copyToClipboard(i){return f(this,null,function*(){try{yield navigator.clipboard.writeText(i),frappe.toast({title:"Copied",message:"Callback URL copied to clipboard",indicator:"green"})}catch(s){console.error("Failed to copy:",s)}})},formatDateTime(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}}},B={class:"p-6 max-w-4xl mx-auto"},R=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"Settings"),e("p",{class:"text-gray-600"},"Configure your social media management preferences and integrations.")],-1),q={class:"flex items-center justify-between mb-6"},N=e("div",{class:"flex items-center"},[e("div",{class:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-gray-900"},"LinkedIn Integration"),e("p",{class:"text-gray-600"},"Configure LinkedIn API credentials and settings")])],-1),F={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},j={class:"md:col-span-2"},H={class:"flex items-center"},O=e("label",{for:"linkedin_enabled",class:"ml-2 text-sm font-medium text-gray-700"}," Enable LinkedIn Integration ",-1),W=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"LinkedIn Client ID",-1),Y=["disabled"],Q=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"LinkedIn Client Secret",-1),X=["disabled"],G={class:"md:col-span-2"},J=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Callback URL",-1),K={class:"flex"},Z=["value"],$=e("p",{class:"text-sm text-gray-500 mt-1"}," Use this URL in your LinkedIn app configuration as the redirect URI. ",-1),ee={key:0,class:"md:col-span-2"},te={class:"flex items-center justify-between p-4 bg-gray-50 rounded-lg"},se=e("p",{class:"font-medium text-gray-900"},"Test LinkedIn Connection",-1),ne=e("p",{class:"text-sm text-gray-600"},"Verify that your LinkedIn credentials are working correctly",-1),ie={key:0,class:"text-xs text-gray-500 mt-1"},le=y(" Test Connection "),oe=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Posting Settings",-1),ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Default Post Visibility",-1),re=e("option",{value:"PUBLIC"},"Public",-1),ce=e("option",{value:"CONNECTIONS"},"Connections Only",-1),ue=[re,ce],_e=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Maximum Posts Per Day",-1),ge={class:"md:col-span-2"},me={class:"flex items-center"},be=e("label",{for:"auto_schedule_optimization",class:"ml-2 text-sm font-medium text-gray-700"}," Enable Optimal Time Scheduling ",-1),ye=e("p",{class:"text-sm text-gray-500 mt-1 ml-6"}," Automatically suggest optimal posting times based on audience engagement patterns. ",-1),pe={class:"md:col-span-2"},fe={class:"flex items-center mb-4"},xe=e("label",{for:"retry_failed_posts",class:"ml-2 text-sm font-medium text-gray-700"}," Retry Failed Posts ",-1),he={key:0,class:"grid grid-cols-2 gap-4 ml-6"},ve=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Maximum Retry Attempts",-1),ke=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Retry Delay (Minutes)",-1),Ce=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Analytics Settings",-1),Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},we={class:"md:col-span-2"},Ie={class:"flex items-center"},Ue=e("label",{for:"analytics_enabled",class:"ml-2 text-sm font-medium text-gray-700"}," Enable Analytics Sync ",-1),Le=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Analytics Sync Frequency",-1),Ve=["disabled"],De=e("option",{value:"Every hour"},"Every Hour",-1),Ee=e("option",{value:"Every 6 hours"},"Every 6 Hours",-1),Pe=e("option",{value:"Daily"},"Daily",-1),Ae=e("option",{value:"Weekly"},"Weekly",-1),Te=[De,Ee,Pe,Ae],Me=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Analytics Retention (Days)",-1),ze=["disabled"],Be={key:0,class:"md:col-span-2"},Re={class:"p-4 bg-gray-50 rounded-lg"},qe={class:"grid grid-cols-2 gap-4"},Ne=e("p",{class:"text-sm font-medium text-gray-700"},"Last Analytics Sync",-1),Fe={class:"text-sm text-gray-600"},je=e("p",{class:"text-sm font-medium text-gray-700"},"API Quota Used",-1),He={class:"flex items-center"},Oe={class:"flex-1 bg-gray-200 rounded-full h-2 mr-2"},We={class:"text-sm text-gray-600"},Ye=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Advanced Settings",-1),Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xe={class:"flex items-center"},Ge=e("label",{for:"debug_mode",class:"ml-2 text-sm font-medium text-gray-700"}," Enable Debug Mode ",-1),Je=e("p",{class:"text-sm text-gray-500 mt-1"}," Enable detailed logging for troubleshooting issues. ",-1),Ke=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"API Rate Limit (per hour)",-1),Ze={class:"flex justify-between"},$e=y(" Reset to Defaults "),et={class:"space-x-3"},tt=y(" Cancel "),st=y(" Save Settings ");function nt(i,s,l,w,t,d){const k=x("Badge"),g=x("ClipboardIcon"),a=x("Button"),u=x("Card");return b(),m("div",B,[R,r(u,{class:"p-6 mb-6"},{default:c(()=>[e("div",q,[N,r(k,{variant:t.settings.linkedin_enabled?"success":"secondary"},{default:c(()=>[y(h(t.settings.linkedin_enabled?"Enabled":"Disabled"),1)]),_:1},8,["variant"])]),e("form",{onSubmit:s[4]||(s[4]=T((...n)=>d.saveSettings&&d.saveSettings(...n),["prevent"]))},[e("div",F,[e("div",j,[e("div",H,[o(e("input",{id:"linkedin_enabled","onUpdate:modelValue":s[0]||(s[0]=n=>t.settings.linkedin_enabled=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[p,t.settings.linkedin_enabled]]),O])]),e("div",null,[W,o(e("input",{"onUpdate:modelValue":s[1]||(s[1]=n=>t.settings.linkedin_client_id=n),type:"text",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter LinkedIn Client ID",disabled:!t.settings.linkedin_enabled},null,8,Y),[[_,t.settings.linkedin_client_id]])]),e("div",null,[Q,o(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.settings.linkedin_client_secret=n),type:"password",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter LinkedIn Client Secret",disabled:!t.settings.linkedin_enabled},null,8,X),[[_,t.settings.linkedin_client_secret]])]),e("div",G,[J,e("div",K,[e("input",{value:t.settings.linkedin_callback_url,type:"text",class:"flex-1 p-3 border border-gray-300 rounded-l-lg bg-gray-50",readonly:""},null,8,Z),r(a,{variant:"outline",class:"rounded-l-none border-l-0",onClick:s[3]||(s[3]=n=>d.copyToClipboard(t.settings.linkedin_callback_url))},{default:c(()=>[r(g,{class:"w-4 h-4"})]),_:1})]),$]),t.settings.linkedin_enabled?(b(),m("div",ee,[e("div",te,[e("div",null,[se,ne,t.settings.linkedin_last_tested?(b(),m("p",ie," Last tested: "+h(d.formatDateTime(t.settings.linkedin_last_tested)),1)):v("",!0)]),r(a,{variant:"outline",loading:t.testingConnection,onClick:d.testLinkedInConnection},{default:c(()=>[le]),_:1},8,["loading","onClick"])])])):v("",!0)])],32)]),_:1}),r(u,{class:"p-6 mb-6"},{default:c(()=>[oe,e("div",ae,[e("div",null,[de,o(e("select",{"onUpdate:modelValue":s[5]||(s[5]=n=>t.settings.default_visibility=n),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},ue,512),[[L,t.settings.default_visibility]])]),e("div",null,[_e,o(e("input",{"onUpdate:modelValue":s[6]||(s[6]=n=>t.settings.max_posts_per_day=n),type:"number",min:"1",max:"50",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,t.settings.max_posts_per_day,void 0,{number:!0}]])]),e("div",ge,[e("div",me,[o(e("input",{id:"auto_schedule_optimization","onUpdate:modelValue":s[7]||(s[7]=n=>t.settings.auto_schedule_optimization=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[p,t.settings.auto_schedule_optimization]]),be]),ye]),e("div",pe,[e("div",fe,[o(e("input",{id:"retry_failed_posts","onUpdate:modelValue":s[8]||(s[8]=n=>t.settings.retry_failed_posts=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[p,t.settings.retry_failed_posts]]),xe]),t.settings.retry_failed_posts?(b(),m("div",he,[e("div",null,[ve,o(e("input",{"onUpdate:modelValue":s[9]||(s[9]=n=>t.settings.max_retry_attempts=n),type:"number",min:"1",max:"10",class:"w-full p-2 border border-gray-300 rounded-lg"},null,512),[[_,t.settings.max_retry_attempts,void 0,{number:!0}]])]),e("div",null,[ke,o(e("input",{"onUpdate:modelValue":s[10]||(s[10]=n=>t.settings.retry_delay_minutes=n),type:"number",min:"5",max:"1440",class:"w-full p-2 border border-gray-300 rounded-lg"},null,512),[[_,t.settings.retry_delay_minutes,void 0,{number:!0}]])])])):v("",!0)])])]),_:1}),r(u,{class:"p-6 mb-6"},{default:c(()=>[Ce,e("div",Se,[e("div",we,[e("div",Ie,[o(e("input",{id:"analytics_enabled","onUpdate:modelValue":s[11]||(s[11]=n=>t.settings.analytics_enabled=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[p,t.settings.analytics_enabled]]),Ue])]),e("div",null,[Le,o(e("select",{"onUpdate:modelValue":s[12]||(s[12]=n=>t.settings.analytics_sync_frequency=n),class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!t.settings.analytics_enabled},Te,8,Ve),[[L,t.settings.analytics_sync_frequency]])]),e("div",null,[Me,o(e("input",{"onUpdate:modelValue":s[13]||(s[13]=n=>t.settings.analytics_retention_days=n),type:"number",min:"7",max:"365",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!t.settings.analytics_enabled},null,8,ze),[[_,t.settings.analytics_retention_days,void 0,{number:!0}]])]),t.settings.analytics_enabled?(b(),m("div",Be,[e("div",Re,[e("div",qe,[e("div",null,[Ne,e("p",Fe,h(t.settings.last_analytics_sync?d.formatDateTime(t.settings.last_analytics_sync):"Never"),1)]),e("div",null,[je,e("div",He,[e("div",Oe,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:M({width:`${t.settings.analytics_api_quota_used||0}%`})},null,4)]),e("span",We,h(t.settings.analytics_api_quota_used||0)+"%",1)])])])])])):v("",!0)])]),_:1}),r(u,{class:"p-6 mb-6"},{default:c(()=>[Ye,e("div",Qe,[e("div",null,[e("div",Xe,[o(e("input",{id:"debug_mode","onUpdate:modelValue":s[14]||(s[14]=n=>t.settings.debug_mode=n),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[p,t.settings.debug_mode]]),Ge]),Je]),e("div",null,[Ke,o(e("input",{"onUpdate:modelValue":s[15]||(s[15]=n=>t.settings.api_rate_limit=n),type:"number",min:"10",max:"1000",class:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[_,t.settings.api_rate_limit,void 0,{number:!0}]])])])]),_:1}),e("div",Ze,[r(a,{variant:"ghost",onClick:d.resetSettings},{default:c(()=>[$e]),_:1},8,["onClick"]),e("div",et,[r(a,{variant:"outline",onClick:d.loadSettings},{default:c(()=>[tt]),_:1},8,["onClick"]),r(a,{variant:"solid",loading:t.saving,onClick:d.saveSettings},{default:c(()=>[st]),_:1},8,["loading","onClick"])])])])}var ot=P(z,[["render",nt]]);export{ot as default};
